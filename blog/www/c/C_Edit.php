<?phpclass C_Edit extends C_Base{	private $article_title;		// заголовок статьи	private $article_content;		// содержание статьи	private $article_id;          //id статьи	//	// Конструктор.	//	function __construct()	{			}		//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{		$m_article= M_Article::Instance();				$this->title = "Blog OOP ";		$this->title2 = $this->title2.":: Edit ";		if(isset($_GET['id']))		{			$this->article_id=mysql_real_escape_string($_GET['id']);			$article=$m_article->get($this->article_id);		//	$this->article_title=htmlspecialchars($article['title']);		//	$this->article_content=htmlspecialchars($article['content']);			$this->article_title=($article['title']);			$this->article_content=($article['content']);		}				if($this->IsPost()){			if($_POST['button']){				//$this->article_title=htmlspecialchars($_POST['title']);				//$this->article_content=htmlspecialchars($_POST['content']);				$this->article_title=($_POST['title']);				$this->article_content=($_POST['content']);				if(trim($_POST['title'])!=''){					$m_article->edit($this->article_id, trim($this->article_title), $this->article_content);					header("Location: index.php?c=editor");				}				}					elseif($_POST['button2']){				$m_article->delete($this->article_id);				header("Location: index.php?c=editor");			}	}			}		//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('title' => $this->article_title, 'content' => $this->article_content);			$this->content = $this->Template('v/V_Edit.php', $vars);						parent::OnOutput();	}	}